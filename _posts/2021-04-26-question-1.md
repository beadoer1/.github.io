---
title: "질문 시리즈 1. DB에 Null 사용, timestamped, 직렬화"
date: 2021-04-26 14:30:00 +0900
categories:
  - 질문
  - 항해99
tags:
  - DB Null
  - timestamped
  - 직렬화
  - serialization
---
※ 지식 정리는 이곳에👉 [github.com/beadoer1/TIL](https://github.com/beadoer1/TIL)  
  
## 질문을 하자!
질문은 꼭 해야된다라는 생각을 갖고, 남은 항해99 동안 많은 질문을 하기로 마음 먹었다.    
질문에 대한 답변은 소중하니까 블로그에 남겨본다.  
항상 개념과 키워드를 통해 낚시하는 방법을 가르쳐주시는 항해99 여승구 튜터님께 감사 드린다.  
  
### RDB 테이블 저장 시 Null 처리를 꼭 해줘야 하는가?
경우에 따라 다를 수 있지만, 대부분 해주는 것이 좋다.  
해당 Column으로 조작을 하지 않으면 상관없긴 하지만 코딩 시 중요하게 생각해야되는 점 중 하나는 '불확실한 상황을 만들지 않는 것'이다.
Null을 넣을 경우 데이터를 조작하거나 하는 경우(예를 들면 split()과 같은)에 Error가 발생할 수 있다.
해서 보통은 Type을 맞추어 String의 경우 비어있는 String 값을 넣거나 숫자의 경우 다른 값을 채우는 등 Null 처리를 해주는 것이 좋다.
  
### Timestamp 를 생성시간, 수정시간을 모두 갖는 것과 수정시간만 갖는 것을 나눠주는 것에 대한 의견은?
일단 이게 왜 필요한지?? -> 생성시간을 프론트엔드 단에서 사용할 일이 없다.  
프론트엔드에서 사용하지 않는다고하여 model에서 없애는 것은 좋지 않은 발상이다.  
튜터의 경우 생성시간을 모든 model에 넣는 것을 선호하는데, 그 대표적인 이유는 **해당 column을 log로 사용하기 좋기 때문**이다. 
물론, 지금 필요한 단계는 아닐 수 있으나, **향후에 어떤 마케팅 정책을 펼치거나 했을 때 그에 대한 효과를 분석하는 경우 생성시간이 필요할 수 있다.**  
  
또한, **객체 지향** 관점에서 볼 때 기존에 있는 것의 '작은 부분'만 빼서 다른 객체를 만드는 순서로 디자인 하는 것은 옳지 않다.
예를 들면 권투에서 단지 '손'만 필요한 경우에서 글러브를 벗었을 때 '손가락이 포함된 손'이 필요한 경우가 생긴다고 가정하자. 
이 때 손이라는 객체에서 손가락을 뽑아 쓰는 것이 아니라 손가락이라는 객체를 만들고 이를 손으로 조립하는 것이 더 '객체 지향'적인 사고이다.
해서 만약 필요하다면 수정시간을 포함하는 객체를 만들고 이를 이용해 생성시간, 수정시간을 다른 객체에 포함시키는 것이 옳다.(추천하지는 않는다.)
  
### 정보 전달을 위한 JSON 직렬화 방안
직렬화 시 보낼 정보를 걸러주는 방법으로 크게 두가지가 생각난다.
하나는, ignore 기능을 하는 메서드(혹을 라이브러리) 등을 사용하여 보내지 않을 값을 걸러주는 것이다.  
또 하나는, api의 response를 직접 만든다고 하면 response 구성 시 필요한 값만 넣는 작업을 해주는 것이다.


 
